# 📝 3단계 테스트 로직 구현 요약

이 문서는 TDD 3단계에서 로직이 구현된 테스트 파일 및 케이스의 목록입니다. 이 테스트들은 현재 구현 코드가 없어 실패(RED) 상태여야 합니다.

---
## 🧪 repeatUtils.spec.ts 
**목적:** 'generateRecurringEvents' 함수용

**▶️ 구현된 테스트 케이스 (20개):**
* [x] 이벤트 배열이 비어있을 경우 빈 배열을 반환해야 한다.
* [x] 반복 규칙이 없는 단일 이벤트는 결과에서 제외해야 한다.
* [x] seriesId가 null인, 즉 단일로 수정된 이벤트는 결과에서 제외해야 한다.
* [x] 매일 반복되는 이벤트를 주어진 뷰 기간 내에서 정확히 생성해야 한다.
* [x] 반복 간격(interval)이 2일 경우, 이틀에 한 번씩 이벤트를 생성해야 한다.
* [x] 매주 반복되는 이벤트를 주어진 뷰 기간 내에서 정확히 생성해야 한다.
* [x] 반복 간격(interval)이 2주일 경우, 2주에 한 번씩 이벤트를 생성해야 한다.
* [x] 매월 반복되는 이벤트를 주어진 뷰 기간 내에서 정확히 생성해야 한다.
* [x] 반복 간격(interval)이 2개월일 경우, 두 달에 한 번씩 이벤트를 생성해야 한다.
* [x] 31일에 시작한 이벤트를 매월 반복할 때, 31일이 없는 달(예: 4월)은 건너뛰어야 한다.
* [x] 매년 반복되는 이벤트를 주어진 뷰 기간 내에서 정확히 생성해야 한다.
* [x] 반복 간격(interval)이 2년일 경우, 2년에 한 번씩 이벤트를 생성해야 한다.
* [x] 2월 29일에 시작한 이벤트를 매년 반복할 때, 윤년에만 해당 날짜에 이벤트를 생성해야 한다.
* [x] 반복 종료일(endDate)이 설정된 경우, 해당 날짜 이후의 인스턴스는 생성하지 않아야 한다.
* [x] exceptionDates 배열에 포함된 날짜는 반복 인스턴스로 생성하지 않아야 한다.
* [x] 반복 이벤트의 시작일이 뷰의 종료일보다 늦으면, 아무 인스턴스도 생성하지 않아야 한다.
* [x] 반복 이벤트의 종료일이 뷰의 시작일보다 이르면, 아무 인스턴스도 생성하지 않아야 한다.
* [x] 생성된 EventInstance의 instanceId는 `${seriesId}-${YYYYMMDD}` 형식을 따라야 한다.
* [x] 생성된 EventInstance의 date 속성은 해당 발생일의 `YYYY-MM-DD` 형식이어야 한다.
* [x] 생성된 EventInstance는 id와 date를 제외한 나머지 속성을 원본 이벤트로부터 상속받아야 한다.

---
## 🧪 medium.useEventOperations.spec.ts 
**목적:** 반복 일정 수정/삭제용

**▶️ 구현된 테스트 케이스 (15개):**
* [x] 저장되어있는 초기 이벤트 데이터를 적절하게 불러온다
* [x] 정의된 이벤트 정보를 기준으로 적절하게 저장이 된다
* [x] 새로 정의된 
* [x] 존재하는 이벤트 삭제 시 에러없이 아이템이 삭제된다.
* [x] 이벤트 로딩 실패 시 
* [x] 존재하지 않는 이벤트 수정 시 
* [x] 네트워크 오류 시 
* [x] 신규 반복 일정 생성 시 POST /api/events가 호출되고, 응답받은 데이터의 id와 seriesId는 동일해야 한다
* [x] C 1 (단일 수정): 
* [x] C 1 (단일 수정): 첫 번째 API 호출(POST) 요청 본문에는 `seriesId`가 `null`로 포함되어야 한다
* [x] C 1 (단일 수정): 두 번째 API 호출(PUT) 요청 본문에는 `{ 
* [x] C 2 (전체 수정): 
* [x] C 1 (단일 삭제): 
* [x] C 2 (전체 삭제): 
* [x] API 요청 실패 시 적절한 에러 메시지가 표시되어야 한다

---
## 🧪 easy.useCalendarView.spec.ts 
**목적:** 반복 일정 렌더링용

**▶️ 구현된 테스트 케이스 (16개):**
* [x] view는 
* [x] currentDate는 오늘 날짜인 
* [x] holidays는 10월 휴일인 개천절, 한글날, 추석이 지정되어 있어야 한다
* [x] view를 
* [x] 주간 뷰에서 다음으로 navigate시 7일 후 
* [x] 주간 뷰에서 이전으로 navigate시 7일 후 
* [x] 월간 뷰에서 다음으로 navigate시 한 달 후 
* [x] 월간 뷰에서 이전으로 navigate시 한 달 전 
* [x] currentDate가 
* [x] 월간 뷰에서 매일 반복되는 일정이 현재 보이는 모든 날짜에 대해 생성되어야 한다
* [x] 주간 뷰에서 매주 반복되는 일정이 해당 주에 올바르게 생성되어야 한다
* [x] exceptionDates에 포함된 날짜의 반복 일정은 렌더링에서 제외되어야 한다
* [x] 반복 종료일(endDate)이 설정된 경우, 그 이후의 날짜에는 반복 일정이 생성되지 않아야 한다
* [x] 다음 달/주로 이동했을 때, 새로운 날짜 범위에 맞는 반복 일정이 올바르게 다시 계산되어야 한다
* [x] 단일 수정된 이벤트(seriesId: null)는 독립적인 단일 일정으로 표시되어야 한다
* [x] 원본 이벤트 목록(API 응답)이 변경되면, 화면에 표시되는 이벤트 인스턴스 목록도 업데이트되어야 한다

